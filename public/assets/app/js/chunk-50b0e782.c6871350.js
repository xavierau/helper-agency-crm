(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-50b0e782"],{"1bbb":function(t,a,n){"use strict";var e={public_search_applicants:"/api/agencycore/public_search_applicants",list:"/api/agencycore/applicants",count_by_current_location:"/api/agencycore/applicants/count/current_location",store:"/api/agencycore/applicants",delete:function(t){return"/api/agencycore/applicants/".concat(t)},show:function(t){return"/api/agencycore/applicants/".concat(t)},approve:function(t){return"/api/agencycore/applicants/".concat(t,"/approve")},nationalities:"/api/agencycore/nationalities",duties:"/api/agencycore/duties/all",upload_thumbnail:function(t){return"/api/agencycore/applicants/".concat(t,"/thumbnail")},upload_full_body:function(t){return"/api/agencycore/applicants/".concat(t,"/full_body")},store_uploaded_documents:function(t){return"/api/agencycore/applicants/".concat(t,"/uploaded_documents")},uploaded_documents:function(t){return"/api/agencycore/applicants/".concat(t,"/uploaded_documents")},show_uploaded_documents:function(t,a){return"/api/agencycore/applicants/".concat(t,"/uploaded_documents/").concat(a)},update_uploaded_documents:function(t,a){return"/api/agencycore/applicants/".concat(t,"/uploaded_documents/").concat(a)},delete_uploaded_documents:function(t,a){return"/api/agencycore/applicants/".concat(t,"/uploaded_documents/").concat(a)},edit_personal_info:function(t){return"/api/agencycore/applicants/".concat(t,"/edit_personal_info")},edit_basic_info:function(t){return"/api/agencycore/applicants/".concat(t,"/edit_basic_info")}};a["a"]=e},baf5:function(t,a,n){"use strict";n.r(a);var e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"container mt-3"},[n("h2",[t._v("Search Applicants")]),t._m(0),n("form",{on:{submit:function(a){return a.preventDefault(),t.searchApplicants.apply(null,arguments)}}},[n("div",{staticClass:"row mt-3"},[t._m(1),n("div",{staticClass:"form-group col-4"},[n("select",{staticClass:"form-control",attrs:{name:"age_range",id:"age_range"}},[n("option",{attrs:{value:""}},[t._v("-- 選擇年齡 --")]),t._l(t.age_ranges,(function(a){return n("option",{key:a,domProps:{value:a}},[t._v(t._s(a)+" ")])}))],2)]),n("div",{staticClass:"form-group col-4"},[n("select",{staticClass:"form-control",attrs:{name:"overseas_experience",id:"overseas_experience"}},[n("option",{attrs:{value:""}},[t._v("-- 選擇海外工作經驗 --")]),t._l(t.overseas_countries,(function(a){return n("option",{key:a,domProps:{value:a}},[t._v(t._s(a)+" ")])}))],2)]),t._m(2),n("div",{staticClass:"form-group col-4"},[n("select",{staticClass:"form-control",attrs:{name:"duties",id:"duties"}},[n("option",{attrs:{value:""}},[t._v("-- 選擇技能 --")]),t._l(t.duties,(function(a){return n("option",{key:a.id,domProps:{value:a.id}},[t._v(t._s(a.label)+" ")])}))],2)])]),t._m(3)]),t.applicantPaginator?n("section",{staticClass:"result row"},[n("div",{staticClass:"col-12 mt-3"},[n("h2",[t._v("Applicants "),n("small",[t._v("(Total: "+t._s(t.applicantPaginator.meta.total)+")")])])]),t._l(t.applicants,(function(t){return n("div",{key:t.id,staticClass:"col-6"},[n("ApplicantSearchItem",{attrs:{applicant:t}})],1)}))],2):t._e()])},c=[function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-6 col-md-2 mb-1"},[n("button",{staticClass:"py-3 btn btn-block btn-outline-info"},[t._v(" 菲律賓 "),n("span",{staticClass:"badge badge-info"},[t._v("10")])])]),n("div",{staticClass:"col-6 col-md-2 mb-1"},[n("button",{staticClass:"py-3 btn btn-block btn-outline-info"},[t._v(" 印尼 "),n("span",{staticClass:"badge badge-info"},[t._v("10")])])]),n("div",{staticClass:"col-6 col-md-2 mb-1"},[n("button",{staticClass:"py-3 btn btn-block btn-outline-info"},[t._v(" 孟加拉 "),n("span",{staticClass:"badge badge-info"},[t._v("10")])])]),n("div",{staticClass:"col-6 col-md-2 mb-1"},[n("button",{staticClass:"py-3 btn btn-block btn-outline-info"},[t._v(" 斯里蘭卡 "),n("span",{staticClass:"badge badge-info"},[t._v("10")])])]),n("div",{staticClass:"col-6 col-md-2 mb-1"},[n("button",{staticClass:"py-3 btn btn-block btn-outline-info"},[t._v(" 柬埔寨 "),n("span",{staticClass:"badge badge-info"},[t._v("10")])])]),n("div",{staticClass:"col-6 col-md-2 mb-1"},[n("button",{staticClass:"py-3 btn btn-block btn-outline-info"},[t._v(" 本地現成 "),n("span",{staticClass:"badge badge-info"},[t._v("10")])])])])},function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"form-group col-4"},[n("select",{staticClass:"form-control",attrs:{name:"nationality",id:"nationality"}},[n("option",{attrs:{value:""}},[t._v("-- 選擇國籍 --")]),n("option",{attrs:{value:"Filipino"}},[t._v("菲律賓")]),n("option",{attrs:{value:"indonesia"}},[t._v("印尼")]),n("option",{attrs:{value:"bangladesh"}},[t._v("孟加拉")]),n("option",{attrs:{value:"sri_lanka"}},[t._v("斯里蘭卡")]),n("option",{attrs:{value:"cambodia"}},[t._v("柬埔寨")])])])},function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"form-group col-4"},[n("input",{staticClass:"form-control",attrs:{name:"applicant_ref_number",id:"applicant_ref_number",type:"text",placeholder:"佣工編號"}})])},function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"row mt-3"},[n("div",{staticClass:"col-12"},[n("button",{staticClass:"btn btn-outline-success",attrs:{type:"submit"}},[t._v("Search ")])])])}],i=n("7ed9"),o=n("1bbb"),s=n("d322"),r=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"ApplicantSearchItem"},[n("CCard",[n("CCardBody",[n("div",{staticClass:"row"},[n("div",{staticClass:"col-4"},[n("img",{staticClass:"img-fluid",attrs:{src:t.applicant.thumbnail,alt:""}})]),n("div",{staticClass:"col-8"},[n("p",[t._v("Ref #: "+t._s(t.applicant.ref_number))]),n("p",[t._v("Age: "+t._s(t.applicant.age))]),n("p",[t._v("Gender: "+t._s(t.applicant.is_male?"Male":"Female"))])])])]),n("CCardFooter",[n("a",{staticClass:"btn btn-primary",attrs:{href:"/core/applicants/profile/"+t.applicant.hash,target:"_blank"}},[t._v("Profile")])])],1)],1)},l=[],u={name:"ApplicantSearchItem",props:{applicant:{type:Object,required:!0}}},p=u,d=n("2877"),f=Object(d["a"])(p,r,l,!1,null,"4d4e655b",null),_=f.exports;function v(t,a){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=b(t))||a&&t&&"number"===typeof t.length){n&&(t=n);var e=0,c=function(){};return{s:c,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,i=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function b(t,a){if(t){if("string"===typeof t)return m(t,a);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,a):void 0}}function m(t,a){(null==a||a>t.length)&&(a=t.length);for(var n=0,e=new Array(a);n<a;n++)e[n]=t[n];return e}var g={name:"Search",components:{ApplicantSearchItem:_},data:function(){return{applicantPaginator:null,availableApplicants:null,overseas_countries:["Taiwan","Singapore","Macau","China","Japan"],duties:[],age_ranges:["18 - 25","26 - 30","31 +"]}},computed:{applicants:function(){var t;return(null===(t=this.applicantPaginator)||void 0===t?void 0:t.data)||[]}},created:function(){this.fetchApplicantCount(),this.fetchDuties()},methods:{fetchDuties:function(){var t=this;i["a"].get(s["a"].all).then((function(a){var n=a.data;return t.duties=n})).catch((function(t){return console.log(t)}))},fetchApplicantCount:function(){var t=this;i["a"].get(o["a"].count_by_current_location).then((function(a){var n=a.data;return t.availableApplicants=n})).catch((function(t){return console.log(t)}))},searchApplicants:function(t){var a,n=this,e=new FormData(t.target),c="?",s=0,r=v(e.keys());try{for(r.s();!(a=r.n()).done;){var l=a.value;0!==s&&(c+="&"),c=c+l+"="+e.get(l),s+=1}}catch(u){r.e(u)}finally{r.f()}i["a"].get(o["a"].public_search_applicants+c).then((function(t){var a=t.data;return n.applicantPaginator=a}))}}},y=g,h=Object(d["a"])(y,e,c,!1,null,"19bf9a90",null);a["default"]=h.exports},d322:function(t,a,n){"use strict";var e={all:"/api/agencycore/duties/all",list:"/api/agencycore/duties",store:"/api/agencycore/duties",update:function(t){return"/api/agencycore/duties/".concat(t)},delete:function(t){return"/api/agencycore/duties/".concat(t)}};a["a"]=e}}]);