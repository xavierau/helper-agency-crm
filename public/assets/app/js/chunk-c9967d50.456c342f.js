(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c9967d50"],{"140a":function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"tab-content-header mb-2 d-flex justify-content-between align-items-baseline"},[e("h4",{staticClass:"tab-title"},[t._v(t._s(t.title))]),t._t("default",(function(){return[t.link?e("router-link",{staticClass:"btn btn-sm btn-outline-dark",attrs:{to:t.getRouterTo()}},[t._v(" "+t._s(t.link.label||"Link")+" ")]):t._e()]}))],2)},i=[],s={name:"TabContentHeader",props:{title:{type:String,required:!0},link:{type:Object}},methods:{getRouterTo:function(){var t,a;return null!==(t=this.link)&&void 0!==t&&t.route?this.link.route:null!==(a=this.link)&&void 0!==a&&a.url?this.link.url:"/dashboard"}}},o=s,c=e("2877"),r=Object(c["a"])(o,n,i,!1,null,"0e8e3201",null);a["a"]=r.exports},"1bbb":function(t,a,e){"use strict";var n={public_search_applicants:"/api/agencycore/public_search_applicants",list:"/api/agencycore/applicants",count_by_current_location:"/api/agencycore/applicants/count/current_location",store:"/api/agencycore/applicants",delete:function(t){return"/api/agencycore/applicants/".concat(t)},show:function(t){return"/api/agencycore/applicants/".concat(t)},approve:function(t){return"/api/agencycore/applicants/".concat(t,"/approve")},nationalities:"/api/agencycore/nationalities",duties:"/api/agencycore/duties/all",upload_thumbnail:function(t){return"/api/agencycore/applicants/".concat(t,"/thumbnail")},upload_full_body:function(t){return"/api/agencycore/applicants/".concat(t,"/full_body")},store_uploaded_documents:function(t){return"/api/agencycore/applicants/".concat(t,"/uploaded_documents")},uploaded_documents:function(t){return"/api/agencycore/applicants/".concat(t,"/uploaded_documents")},show_uploaded_documents:function(t,a){return"/api/agencycore/applicants/".concat(t,"/uploaded_documents/").concat(a)},update_uploaded_documents:function(t,a){return"/api/agencycore/applicants/".concat(t,"/uploaded_documents/").concat(a)},delete_uploaded_documents:function(t,a){return"/api/agencycore/applicants/".concat(t,"/uploaded_documents/").concat(a)},edit_personal_info:function(t){return"/api/agencycore/applicants/".concat(t,"/edit_personal_info")},edit_basic_info:function(t){return"/api/agencycore/applicants/".concat(t,"/edit_basic_info")}};a["a"]=n},5217:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"ShowContracts"},[t.contracts.length>0?e("ul",{staticClass:"list-unstyled col-12"},t._l(t.contracts,(function(a){return e("li",{key:a.id},[e("h5",[t._v("Contract Number: "),e("router-link",{attrs:{to:{name:"Contract",params:{id:a.id}}}},[t._v(t._s(a.contract_number))])],1),e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[t._v(" Status: "+t._s(a.status)+" "),e("br"),t._v(" Client: "),e("router-link",{attrs:{to:{name:"Client",params:{id:a.client.id}}}},[t._v(t._s(a.client.full_name))])],1),e("div",{staticClass:"col-6"},[e("div",[t._v("Start Date: "+t._s(a.start_date))]),e("div",[t._v("Start Date: "+t._s(a.end_date))])])]),e("hr")])})),0):e("p",[t._v("No contract with this applicant")])])},i=[],s={name:"ShowContracts",props:{contracts:{type:Array,required:!0}}},o=s,c=e("2877"),r=Object(c["a"])(o,n,i,!1,null,"5f648d76",null);a["a"]=r.exports},"70f1":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"ApplicantShow"},[!1===t.isLoading?e("CCard",[e("CCardHeader",{staticClass:"d-flex justify-content-between align-content-center"},[e("h5",{staticClass:"m-0"},[t._v(t._s(t.applicant.name)+" "),e("span",{staticClass:"badge",class:{"badge-male":"male"===t.applicant.gender,"badge-female":"female"===t.applicant.gender}},[t._v(" "+t._s(t.applicant.gender)+" ")])]),e("div",{staticClass:"float-right text-right"},[e("a",{staticClass:"btn btn-success btn-sm mx-1 text-white",attrs:{href:"/core/applicants/profile/"+t.applicant.hash,target:"_blank"}},[t._v("Print Profile ")]),!1===t.applicant.is_approved?e("button",{staticClass:"btn btn-success btn-sm mx-1",on:{click:t.approveApplicant}},[t._v("Approve ")]):t._e(),e("button",{staticClass:"btn btn-info btn-sm mx-1",on:{click:function(a){return t.onPickFile("thumbnail")}}},[t._v("Upload Thumbnail Photo ")]),e("button",{staticClass:"btn btn-info btn-sm mx-1",on:{click:function(a){return t.onPickFile("full_body")}}},[t._v("Upload Full Body Photo ")]),e("button",{staticClass:"btn btn-success btn-sm d-inline-block",on:{click:function(a){t.show_upload_documents=!0}}},[t._v("Uploaded Document ")]),e("form",{ref:"imageForm",attrs:{enctype:"multipart/form-data"}},[e("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",name:"file",accept:"image/*"},on:{change:t.onFilePicked}})])])]),e("CCardBody",[e("section",{staticClass:"basic-info"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-4 col-md-3 col-lg-2 "},[e("img",{staticClass:"img-fluid rounded",attrs:{src:t.applicant.thumbnail}})]),e("div",{staticClass:"col-sm-8 col-md-9 col-lg-10"},[e("div",{staticClass:"d-flex justify-content-between"},[e("div",[e("h5",[t._v(" "+t._s(t.applicant.age)+" yrs, "+t._s(t.applicant.nationality)+" ")]),e("h5",[t._v("Available Date: "+t._s(t.applicant.available_date))])]),e("div",[e("router-link",{staticClass:"btn btn-sm btn-outline-dark",attrs:{to:{name:t.RouteName.EditApplicantPersonalInfo,params:{id:t.applicant.id}}}},[t._v("Edit Personal Info ")])],1)]),e("table",{staticClass:"table"},[e("tbody",[e("tr",[e("td",[t._v("Height")]),e("td",[t._v(t._s(t.applicant.height)+"cm")])]),e("tr",[e("td",[t._v("Weight")]),e("td",[t._v(t._s(t.applicant.weight)+"kg")])]),e("tr",[e("td",[t._v("Job experiences")]),e("td",t._l(t.applicantExperienceDuties,(function(a){return e("span",{key:a,staticClass:"badge-primary badge p-1 m-1"},[t._v(t._s(a))])})),0)])])])])])]),e("CTabs",{attrs:{variant:"pills","active-tab":0}},[e("CTab",{staticClass:"mt-3",attrs:{title:"Basic Info"}},[e("show-basic-info",{attrs:{applicant:t.applicant}})],1),e("CTab",{staticClass:"mt-3",attrs:{title:"Contract"}},[e("show-contracts",{attrs:{contracts:t.applicant.contracts}})],1),e("CTab",{staticClass:"mt-3",attrs:{title:"Working Experience"}},[e("show-experience",{attrs:{experiences:t.applicant.experiences||[]}})],1)],1)],1)],1):e("CCard",[e("CCardBody",[t._v("Loading...")])],1),e("CModal",{attrs:{show:t.show_upload_documents,title:"Uploaded Documents",size:"lg"},on:{"update:show":function(a){t.show_upload_documents=a}},scopedSlots:t._u([{key:"footer",fn:function(){return[e("div")]},proxy:!0}])},[e("ApplicantUploadedDocuments",{attrs:{"applicant-id":parseInt(t.$route.params.id)}})],1)],1)},i=[],s=e("1bbb"),o=e("7ed9"),c=e("841d"),r=e("cb04"),l=e("5217"),u=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("button",{staticClass:"mb-3 float-right btn btn-success btn-sm",on:{click:function(a){t.show_add_document=!0}}},[e("i",{staticClass:"fa fa-plus"}),t._v(" Add ")]),e("table",{staticClass:"table striped"},[t._m(0),e("tbody",t._l(t.documents,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.label))]),e("td",[e("a",{staticClass:"btn btn-primary btn-sm",attrs:{href:"/"+a.link,target:"_blank"}},[t._v("File")])])])})),0)]),e("CModal",{attrs:{show:t.show_add_document,title:"Add New Document"},on:{"update:show":function(a){t.show_add_document=a}},scopedSlots:t._u([{key:"footer",fn:function(){return[e("span")]},proxy:!0}])},[e("form",{attrs:{id:"newUploadDocumentForm",enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.submit.apply(null,arguments)}}},[e("div",{staticClass:"form-group"},[e("label",[t._v("Label")]),e("input",{staticClass:"form-control",attrs:{type:"text",name:"label"}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("File")]),e("input",{staticClass:"form-control",attrs:{type:"file",name:"file"}})]),e("div",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[t._v("Submit ")])])])])],1)},d=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th",[t._v("Label")]),e("th",[t._v("Link")])])}],p={name:"ApplicantUploadedDocuments",props:{applicantId:{type:Number,required:!0}},data:function(){return{documents:[],show_add_document:!1}},created:function(){this.fetchUploadedDocuments()},methods:{fetchUploadedDocuments:function(){var t=this;o["a"].get(s["a"].uploaded_documents(this.applicantId)).then((function(a){var e=a.data;return t.documents=e})).then((function(a){return t.$toasted.error(a.message)}))},submit:function(t){var a=this,e=new FormData(t.target);o["a"].post(s["a"].store_uploaded_documents(this.applicantId),e).then((function(t){t.data;return a.fetchUploadedDocuments()})).then((function(){return a.$toasted.success("Document uploaded!")})).then((function(){return t.target.reset()})).then((function(){return a.show_add_document=!1})).catch((function(t){return a.$toasted.error("Cannot upload document")}))}}},_=p,f=e("2877"),m=Object(f["a"])(_,u,d,!1,null,"be6bc06c",null),b=m.exports,h=e("a16f"),v=e("2ef0"),g=e.n(v),C={name:"ShowApplicant",computed:{RouteName:function(){return h["a"]},applicantExperienceDuties:function(){var t;return g.a.uniq(null===(t=this.applicant.experiences)||void 0===t?void 0:t.map((function(t){return t.duties.map((function(t){return t.label}))})).flat())}},components:{ShowContracts:l["a"],ShowBasicInfo:c["a"],ShowExperience:r["a"],ApplicantUploadedDocuments:b},data:function(){return{isLoading:!0,applicant:null,imageCollection:null,show_upload_documents:!1}},created:function(){this.fetchApplicant()},methods:{fetchApplicant:function(){var t=this;o["a"].get(s["a"].show(this.$route.params.id)).then((function(a){var e=a.data;return t.applicant=e})).catch((function(t){return console.error(t)})).finally((function(){return t.isLoading=!1}))},onPickFile:function(t){this.imageCollection=t,this.$refs.fileInput.click()},getApiEndpoint:function(t){return"thumbnail"===t?s["a"].upload_thumbnail(this.applicant.id):s["a"].upload_full_body(this.applicant.id)},onFilePicked:function(){var t=this,a=this.getApiEndpoint(this.imageCollection),e=new FormData(this.$refs.imageForm);this.$toasted.info("File uploading..."),o["a"].post(a,e).then((function(a){var e=a.data;return t.applicant.thumbnail=e})).then((function(){return t.$toasted.success("File upload completed")})).catch((function(a){t.$toasted.error("Something wrong. Try again later"),console.error(a.message,a)})).finally((function(){t.imageCollection=null}))},approveApplicant:function(){var t=this;o["a"].post(s["a"].approve(this.applicant.id)).then((function(a){var e=a.data;return t.applicant=e})).then((function(){return t.$toasted.success("Applicant being approved")})).catch((function(a){return t.$toasted.error(a.response.message)}))}}},y=C,w=(e("782e"),Object(f["a"])(y,n,i,!1,null,"ae40d428",null));a["default"]=w.exports},"782e":function(t,a,e){"use strict";e("b93d")},"841d":function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"ShowApplicantBasicInfo"},[e("TabContentHeader",{attrs:{title:"Basic Info",link:{label:"Edit",route:{name:t.RouteName.EditApplicantBasicInfo,params:{id:this.applicant.id}}}}}),e("table",{staticClass:"table"},[e("tbody",[e("tr",[e("td",[t._v("Date of Birth")]),e("td",[t._v(t._s(t._f("formatDate")(t.applicant.date_of_birth,"D/M/Y")))])]),e("tr",[e("td",[t._v("Marital Status")]),e("td",[t._v(t._s(t.applicant.marital_status))])]),e("tr",[e("td",[t._v("Education")]),e("td",[e("table",{staticClass:"w-100"},[e("tr",[e("td",[t._v("Highest Education")]),e("td",[t._v(t._s(t.applicant.education.school_name)+" "),e("small",[t._v("("+t._s(t.applicant.education.highest_education)+")")])])]),e("tr",[e("td",[t._v("Graduation Year")]),e("td",[t._v(t._s(t.applicant.education.graduation_year))])]),e("tr",[e("td",[t._v("Major")]),e("td",[t._v(t._s(t.applicant.education.major))])])])])])])])],1)},i=[],s=e("44f1"),o=e("140a"),c=e("a16f"),r={name:"ShowBasicInfo",computed:{RouteName:function(){return c["a"]}},components:{TabContentHeader:o["a"]},filters:{formatDate:s["c"]},props:{applicant:{type:Object,required:!0}}},l=r,u=e("2877"),d=Object(u["a"])(l,n,i,!1,null,null,null);a["a"]=d.exports},b93d:function(t,a,e){},cb04:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"ShowExperience"},[e("TabContentHeader",{attrs:{title:"Applicant Experience"}},[e("router-link",{staticClass:"btn btn-sm btn-outline-dark",attrs:{to:{name:t.RouteName.AddApplicantExperience,params:{id:t.$route.params.id}}}},[e("i",{staticClass:"fa fa-plus"}),t._v(" Add ")])],1),t._l(t.experiences,(function(a){return e("section",{key:a.id},[e("div",{staticClass:"d-flex justify-content-between align-baseline"},[e("h5",[t._v(t._s(a.position)+" ("+t._s(t._f("formatDate")(a.from,"Y"))+" - "+t._s(t._f("formatDate")(a.to,"Y"))+")")]),e("router-link",{staticClass:"btn btn-sm btn-outline-dark",attrs:{to:{name:"Edit Applicant Experience",params:{id:a.id}}}},[e("i",{staticClass:"fa fa-edit"}),t._v(" Edit ")])],1),e("table",{staticClass:"table"},[e("tbody",[e("tr",[e("td",[t._v("Location")]),e("td",[t._v(t._s(a.location))])]),e("tr",[e("td",[t._v("House Size")]),e("td",[t._v(t._s(a.house_size))])]),e("tr",[e("td",[t._v("Number of adult")]),e("td",[t._v(t._s(a.number_of_adult))])]),e("tr",[e("td",[t._v("Age of adult")]),e("td",[t._v(t._s(a.age_of_adult))])]),e("tr",[e("td",[t._v("Number of children")]),e("td",[t._v(t._s(a.number_of_children))])]),e("tr",[e("td",[t._v("Age of children")]),e("td",[t._v(t._s(a.age_of_children))])]),e("tr",[e("td",[t._v("Number of elderly")]),e("td",[t._v(t._s(a.number_of_elderly))])]),e("tr",[e("td",[t._v("Age of elderly")]),e("td",[t._v(t._s(a.age_of_elderly))])]),e("tr",[e("td",[t._v("Duties")]),e("td",t._l(a.duties,(function(a){return e("span",{key:a.id,staticClass:"badge badge-primary p-2 m-1"},[t._v(" "+t._s(a.label))])})),0)]),e("tr",[e("td",[t._v("Note")]),e("td",[t._v(" "+t._s(a.description)+" ")])])])])])}))],2)},i=[],s=e("44f1"),o=e("140a"),c=e("a16f"),r={name:"ShowExperience",computed:{RouteName:function(){return c["a"]}},components:{TabContentHeader:o["a"]},props:{experiences:{type:Array,required:!0}},filters:{formatDate:s["c"]},methods:{getDuties:function(t){var a;return null===(a=t.duties)||void 0===a?void 0:a.map()}}},l=r,u=e("2877"),d=Object(u["a"])(l,n,i,!1,null,"6821edad",null);a["a"]=d.exports}}]);