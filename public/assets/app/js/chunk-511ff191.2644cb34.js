(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-511ff191"],{"140a":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tab-content-header mb-2 d-flex justify-content-between align-items-baseline"},[a("h4",{staticClass:"tab-title"},[t._v(t._s(t.title))]),t._t("default",(function(){return[t.link?a("router-link",{staticClass:"btn btn-sm btn-outline-dark",attrs:{to:t.getRouterTo()}},[t._v(" "+t._s(t.link.label||"Link")+" ")]):t._e()]}))],2)},i=[],s={name:"TabContentHeader",props:{title:{type:String,required:!0},link:{type:Object}},methods:{getRouterTo:function(){var t,e;return null!==(t=this.link)&&void 0!==t&&t.route?this.link.route:null!==(e=this.link)&&void 0!==e&&e.url?this.link.url:"/dashboard"}}},r=s,o=a("2877"),l=Object(o["a"])(r,n,i,!1,null,"0e8e3201",null);e["a"]=l.exports},"212b":function(t,e,a){},"3fbf":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"showJob"},[a("CCard",[a("CCardHeader",{staticClass:"d-flex justify-content-between"},[a("h4",[t._v("Job Detail")])]),t.job?a("CCardBody",[a("table",{staticClass:"table"},[a("tbody",[a("tr",[a("td",[t._v("Client")]),a("td",[a("router-link",{attrs:{to:{name:"Client",params:{id:t.job.client.id}}}},[t._v(" "+t._s(t.job.client.full_name)+" ")])],1)]),a("tr",[a("td",[t._v("Service require")]),a("td",{domProps:{textContent:t._s("people"===t.job.service_type?"Find People":"Others")}})])])]),a("section",{staticClass:"basic-requirements"},[a("div",{staticClass:"row d-flex align-content-stretch flex-wrap"},[a("div",{staticClass:"col-7"},[a("RequirementInfo",{attrs:{url:t.updateRequirementUrl,requirement:t.job.requirement},on:{"update-requirement":t.updateRequirement}})],1),a("div",{staticClass:"col-5"},[a("CommentsContainer",{attrs:{url:t.jobCommentUrl}})],1)])]),a("section",{staticClass:"tabs"},[a("CTabs",{staticClass:"col-12",attrs:{variant:"pills","active-tab":0}},["people"===t.job.service_type?a("CTab",{staticClass:"mt-2",attrs:{title:"People"}},[a("matching-applicant",{attrs:{job:t.job}})],1):t._e(),a("CTab",{staticClass:"mt-2",attrs:{title:"Contacts"}},[t._v(" Other contacts ")])],1)],1)]):t._e()],1)],1)},i=[],s=a("cecc"),r=a("7ed9"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"MatchingApplicant"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"d-flex align-items-center"},[a("h5",{staticClass:"d-inline-block mr-3 mb-0"},[t._v("Applicant Filters")]),a("button",{staticClass:"btn btn-info btn-sm",on:{click:function(e){t.showFilters=!t.showFilters}}},[a("i",{staticClass:"fas",class:{"fa-angle-down":t.showFilters,"fa-angle-up":!t.showFilters}})])]),a("CCollapse",{attrs:{show:t.showFilters}},[a("CCard",{staticClass:"mt-3",attrs:{"body-wrapper":""}},[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-6 col-sm-4 col-md-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.min_age,expression:"filters.min_age"}],staticClass:"form-control",attrs:{placeholder:"Minimum age"},domProps:{value:t.filters.min_age},on:{input:function(e){e.target.composing||t.$set(t.filters,"min_age",e.target.value)}}})]),a("div",{staticClass:"form-group col-6 col-sm-4 col-md-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.max_age,expression:"filters.max_age"}],staticClass:"form-control",attrs:{placeholder:"Minimum max"},domProps:{value:t.filters.max_age},on:{input:function(e){e.target.composing||t.$set(t.filters,"max_age",e.target.value)}}})]),a("div",{staticClass:"form-group col-6 col-sm-4 col-md-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.nationality,expression:"filters.nationality"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filters,"nationality",e.target.multiple?a:a[0])}}},[a("option",{domProps:{value:null}},[t._v("Select Nationality")]),t._l(t.nationalities,(function(e){return a("option",{key:e.id,domProps:{value:e.label}},[t._v(t._s(e.label)+" ")])}))],2)]),a("div",{staticClass:"form-group col-6 col-sm-4 col-md-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.gender,expression:"filters.gender"}],staticClass:"form-control",attrs:{placeholder:"Gender"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filters,"gender",e.target.multiple?a:a[0])}}},[a("option",{domProps:{value:null}},[t._v("Select Gender")]),a("option",{attrs:{value:"female"}},[t._v("Female")]),a("option",{attrs:{value:"male"}},[t._v("Male")])])]),t._l(t.duties,(function(e){return a("div",{key:e.id,staticClass:"col-4 col-sm-3 col-md-2"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.duties,expression:"filters.duties"}],staticClass:"mr-1",attrs:{type:"checkbox"},domProps:{value:e.id,checked:Array.isArray(t.filters.duties)?t._i(t.filters.duties,e.id)>-1:t.filters.duties},on:{change:function(a){var n=t.filters.duties,i=a.target,s=!!i.checked;if(Array.isArray(n)){var r=e.id,o=t._i(n,r);i.checked?o<0&&t.$set(t.filters,"duties",n.concat([r])):o>-1&&t.$set(t.filters,"duties",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.filters,"duties",s)}}}),t._v(" "+t._s(e.label)+" ")])])}))],2),a("button",{staticClass:"btn btn-info",on:{click:function(e){return t.fetchPotentialApplicants()}}},[t._v("Filter ")]),a("button",{staticClass:"btn btn-secondary ml-3"},[t._v("Reset")])])],1)],1)]),a("div",{staticClass:" mt-3 row d-flex"},[a("div",{staticClass:"col-md-6 align-self-stretch applicant-list"},[t.potentialApplicants?a("matching-applicant-list",{attrs:{title:"Potential Applicants",job:t.job,applicants:t.potentialApplicants,"temp-container":t.tempContainer},on:{search:t.fetchPotentialApplicants,selectApplicant:t.addApplicantToTemp,showApplicant:t.triggerShowApplicant}}):t._e()],1),a("div",{staticClass:"col-md-6 align-self-stretch  applicant-list"},[a("matching-applicant-list",{attrs:{job:t.job,title:"Sent Applicant","show-timestamp":"",applicants:t.filteredAssignedApplicants,"is-add":!1,"show-create-contract":""},on:{search:t.filterAssignedApplicants,selectApplicant:t.removeApplicant,showApplicant:t.triggerShowApplicant}})],1),a("CModal",{attrs:{title:"Applicant Detail",size:"lg",show:t.showApplicantModal},on:{"update:show":function(e){t.showApplicantModal=e}},scopedSlots:t._u([{key:"footer",fn:function(){return[a("button",{staticClass:"btn btn-secondary btn-sm",on:{click:function(e){t.showApplicantModal=!1}}},[t._v("Close ")])]},proxy:!0}])},[t.showApplicant?a("applicant-detail",{attrs:{applicant:t.showApplicant}}):t._e()],1)],1),a("div",{staticClass:"send-container"},[a("CCollapse",{attrs:{show:t.showSendOptions}},[a("ul",{staticClass:"list-unstyled"},[a("li",{staticClass:"mb-1"},[a("button",{staticClass:"btn btn-info",on:{click:function(e){return t.sendApplicant("email")}}},[a("i",{staticClass:"far fa-envelope"})])]),a("li",{staticClass:"mb-1"},[a("a",{staticClass:"btn btn-success",attrs:{href:t.whatsappContent,target:"_blank"},on:{click:function(e){return t.sendApplicant("whatsapp")}}},[a("i",{staticClass:"fab fa-whatsapp"})])])])]),a("CButton",{attrs:{transition:"bounce",id:"applicantTempContainer"},domProps:{textContent:t._s(""+t.tempContainer.length)},on:{click:function(e){t.showSendOptions=!t.showSendOptions}}})],1)])},l=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-1"},[a("h4",[t._v(t._s(t.title))]),a("div",{staticClass:"d-absolute",staticStyle:{top:"0"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{placeholder:"search"},domProps:{value:t.search},on:{change:t.updateSearch,input:function(e){e.target.composing||(t.search=e.target.value)}}})]),a("ul",{staticClass:"list-unstyled"},t._l(t.applicants,(function(e){return a("li",{key:e.id},[a("matching-applicant-list-item",{attrs:{applicant:e,"is-add":t.isAdd,"show-timestamp":t.showTimestamp,"in-temp-container":t.isInTempContainer(e),"show-create-contract":t.showCreateContract},on:{selectApplicant:t.selectApplicant,showApplicant:t.showApplicant}})],1)})),0)])},u=[],d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-1"},[t.isAdd&&!t.inTempContainer?a("button",{staticClass:"btn btn-success btn-sm",on:{click:t.confirm}},[a("i",{staticClass:"fa fa-check"})]):a("button",{staticClass:"btn btn-warning btn-sm",on:{click:t.confirm}},[a("i",{staticClass:"fa fa-minus"})]),a("div",{staticClass:"d-inline-block ml-1",on:{click:function(e){return e.preventDefault(),t.emitShowApplicant.apply(null,arguments)}}},[a("div",{staticClass:"d-inline-block",staticStyle:{"vertical-align":"top"}},[a("img",{staticClass:"rounded",attrs:{src:t.applicant.thumbnail,alt:""}})]),a("div",{staticClass:"d-inline-block"},[a("p",{staticClass:"mt-1 pl-3"},[t._v(" Name: "+t._s(t.applicant.name)+" "),a("br"),t._v(" Nationality: "+t._s(t.applicant.nationality)+" "),a("br"),t._v(" Gender: "+t._s(t._f("capitalize")(t.applicant.gender))+" "),a("br"),t._v(" Age: "+t._s(t.applicant.age)+" "),a("br"),t.showTimestamp?a("small",[t._v("("+t._s(t._f("capitalize")(t.applicant.pivot.channel))+") ("+t._s(t._f("formatDate")(t.applicant.pivot.created_at,"D/MM/Y HH:mm"))+")")]):t._e()])])]),t.showCreateContract?a("button",{staticClass:"btn btn-sm btn-success float-right",on:{click:t.createContract}},[a("i",{staticClass:"far fa-file-alt"})]):t._e()])},p=[],m=a("44f1"),f=a("a026"),_=new f["default"]({}),h={CreateContract:"create-contract"},v=h,b={name:"MatchingApplicantListItem",props:{applicant:{type:Object,required:!0},isAdd:{type:Boolean,default:!0},inTempContainer:{type:Boolean,default:!1},showTimestamp:{type:Boolean,default:!1},showCreateContract:{type:Boolean,default:!1}},filters:{formatDate:m["c"],capitalize:m["a"]},methods:{emitShowApplicant:function(){this.$emit("showApplicant",this.applicant)},confirm:function(){this.$emit("selectApplicant",this.applicant)},createContract:function(){_.$emit(v.CreateContract,this.applicant)}}},g=b,C=(a("6344"),a("2877")),w=Object(C["a"])(g,d,p,!1,null,"69eee057",null),y=w.exports,A=a("2ef0"),q=a.n(A),x={name:"MatchingApplicantList",props:{tempContainer:{type:Array,default:function(){return[]}},title:{type:String,required:!0},isAdd:{type:Boolean,default:!0},applicants:{type:Array,required:!0},showTimestamp:{type:Boolean,required:!1},showCreateContract:{type:Boolean,default:!1}},components:{MatchingApplicantListItem:y},data:function(){return{search:null}},methods:{isInTempContainer:function(t){return!!q.a.find(this.tempContainer,{id:t.id})},updateSearch:function(){this.$emit("search",this.search)},selectApplicant:function(t){this.$emit("selectApplicant",t)},showApplicant:function(t){this.$emit("showApplicant",t)}}},k=x,j=Object(C["a"])(k,c,u,!1,null,"a16f7ee2",null),$=j.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CCard",[a("CCardHeader",{staticClass:"d-flex justify-content-between align-content-center"},[a("h5",{staticClass:"m-0"},[t._v("Applicant Profile ")])]),a("CCardBody",[a("section",{staticClass:"basic-info"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4 col-md-3 col-lg-2 "},[a("img",{staticClass:"img-fluid rounded",attrs:{src:t.applicant.thumbnail}})]),a("div",{staticClass:"col-sm-8 col-md-9 col-lg-10"},[a("h4",[t._v(t._s(t.applicant.name)+" "),a("span",{staticClass:"badge ml-3",class:{"badge-male":"male"===t.applicant.gender,"badge-female":"female"===t.applicant.gender}},[t._v(" "+t._s(t.applicant.gender))])]),a("h5",[t._v(" "+t._s(t.applicant.age)+", "+t._s(t.applicant.nationality)+" ")]),a("h5",[t._v("Available Date: "+t._s(t.applicant.available_date))]),a("table",{staticClass:"table"},[a("tbody",[a("tr",[a("td",[t._v("Height")]),a("td",[t._v(t._s(t.applicant.height)+"cm")])]),a("tr",[a("td",[t._v("Weight")]),a("td",[t._v(t._s(t.applicant.weight)+"kg")])]),a("tr",[a("td",[t._v("Experience")]),a("td",t._l(t.applicant.duties,(function(e){return a("span",{key:e.id,staticClass:"badge badge-info p-1 m-1"},[t._v(t._s(e.label))])})),0)])])])])])]),a("CTabs",{attrs:{variant:"pills","active-tab":0}},[a("CTab",{staticClass:"mt-3",attrs:{title:"Basic Info"}},[a("show-basic-info",{attrs:{applicant:t.applicant}})],1),a("CTab",{staticClass:"mt-3",attrs:{title:"Contracts"}},[a("show-contracts",{attrs:{contracts:t.applicant.contracts}})],1),a("CTab",{staticClass:"mt-3",attrs:{title:"Working Experiences"}},[a("show-experience",{attrs:{experiences:t.applicant.experiences}})],1)],1)],1)],1)},N=[],D=a("841d"),P=a("cb04"),O=a("5217"),T={name:"ApplicantDetail",props:{applicant:{type:Object,required:!0}},components:{ShowBasicInfo:D["a"],ShowExperience:P["a"],ShowContracts:O["a"]}},E=T,I=Object(C["a"])(E,S,N,!1,null,"1a2bcace",null),M=I.exports,R=(a("52df"),{name:"MatchingApplicant",props:{job:{type:Object,required:!0}},components:{MatchingApplicantList:$,ApplicantDetail:M},data:function(){return{showSendOptions:!1,showFilters:!1,showApplicantModal:!1,showApplicant:null,tempContainer:[],search:null,nationalities:null,potentialApplicantPaginator:null,assignedApplicants:null,filter:null,duties:null,filters:{duties:[],min_age:null,max_age:null,gender:null,nationality:null}}},computed:{potentialApplicants:function(){return this.potentialApplicantPaginator?this.potentialApplicantPaginator.data:[]},filteredAssignedApplicants:function(){var t=this;return null===this.assignedApplicants?[]:null===this.filter?this.assignedApplicants:q.a.filter(this.assignedApplicants,(function(e){return e.name.indexOf(t.filter)>-1}))},whatsappContent:function(){if(0!==this.tempContainer.length){var t=this.tempContainer.map((function(t){return{hash:t.hash,name:t.name}})).map((function(t){return"".concat(t.name," ").concat(window.location.origin,"/core/applicants/profile/").concat(t.hash)})),e=t.join(", ");return"https://wa.me/85266281556/?text=we suggest the following applicants: ".concat(e)}}},created:function(){var t=this;this.fetchDuties(),this.fetchNationalities(),this.fetchAllAssignedApplicants().then((function(){return t.fetchPotentialApplicants()})),_.$on(v.CreateContract,this.createContract)},methods:{fetchNationalities:function(){var t=this;r["a"].get(s["a"].nationalities).then((function(e){var a=e.data;return t.nationalities=a})).catch((function(e){return t.$toasted.error(e.message)}))},fetchDuties:function(){var t=this;r["a"].get(s["a"].duties).then((function(e){var a=e.data;return t.duties=a})).catch((function(e){return t.$toasted.error(e.message)}))},fetchPotentialApplicants:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=this.assignedApplicants.map((function(t){return t.id})).join(","),n={"filter[search]":q.a.isObject(e)?null:e,"filter[exclude_ids]":a,"filter[available]":!0,include:"duties,experiences,contracts",pageSize:15};return this.filters.max_age&&this.filters.min_age?n["filter[between_age]"]="".concat(this.filters.min_age,",").concat(this.filters.max_age):this.filters.max_age?n["filter[max_age]"]="".concat(this.filters.max_age):this.filters.min_age&&(n["filter[min_age]"]="".concat(this.filters.min_age)),this.filters.duties.length>0&&(n["filter[duties]"]=this.filters.duties.join(",")),this.filters.nationality&&(n["filter[nationality]"]=this.filters.nationality),this.filters.gender&&(n["filter[gender]"]=this.filters.gender),r["a"].get(s["a"].potential_applicants,{params:n}).then((function(e){var a=e.data;return t.potentialApplicantPaginator=a})).catch((function(t){return console.log(t)}))},fetchAllAssignedApplicants:function(){var t=this;return r["a"].get(s["a"].all_assigned_applicants(this.job.id)).then((function(e){var a=e.data;return t.assignedApplicants=a})).catch((function(t){return console.log(t)}))},filterAssignedApplicants:function(t){this.filter=t},addApplicantToTemp:function(t){var e=q.a.findIndex(this.tempContainer,{id:t.id});e>-1?this.splice=this.tempContainer.splice(e,1):this.tempContainer.push(t)},addApplicant:function(t){var e=this;r["a"].post(s["a"].assign_applicant(this.job.id),t).then((function(){return e.fetchAllAssignedApplicants().then((function(){return e.fetchPotentialApplicants()}))})).catch((function(t){return e.$toasted.error("Something wrong! Try again later! "+t.message)}))},removeApplicant:function(t){var e=this;r["a"].delete(s["a"].remove_applicant(this.job.id,t.id)).then((function(){return e.fetchAllAssignedApplicants().then((function(){return e.fetchPotentialApplicants()}))})).catch((function(t){return e.$toasted.error("Something wrong! Try again later! "+t.message)}))},triggerShowApplicant:function(t){this.showApplicant=t,this.showApplicantModal=!0},sendToClient:function(){var t=this;this.$toasted.info("sending email to client..."),r["a"].post(s["a"].email_applicant(this.job.id),{id:this.tempContainer.map((function(t){return t.id})),channel:"email"}).then((function(){return t.fetchAllAssignedApplicants().then((function(){return t.fetchPotentialApplicants()}))})).then((function(){return t.$toasted.success("email sent")})).then((function(){return t.tempContainer=[]})).then((function(){return t.showSendOptions=!1})).catch((function(e){return t.$toasted.error(e.message)}))},sendWhatsappClient:function(){var t=this,e=this.tempContainer.map((function(e){return r["a"].post(s["a"].assign_applicant(t.job.id),{applicant_id:e.id,channel:"whatsapp"})}));r["a"].all(e).then((function(){t.fetchAllAssignedApplicants().then((function(){return t.fetchPotentialApplicants()})),t.tempContainer=[],t.$toasted.success("Applicant added"),t.showSendOptions=!1})).catch((function(e){return t.$toasted.error("Something wrong! Try again later! "+e.message)}))},sendApplicant:function(t){if(0===this.tempContainer.length)this.$toasted.info("No applicant selected!");else switch(t){case"email":this.sendToClient();break;case"whatsapp":this.sendWhatsappClient();break;default:this.$toasted.error("Invalid channel")}},createContract:function(t){this.$router.push({name:"Create Invoice",query:{job_id:this.job.id,client_id:this.job.client_id,client_number:this.job.client.client_number,applicant_id:t.id,applicant_ref_number:t.ref_number}})}}}),B=R,H=(a("9d1e"),Object(C["a"])(B,o,l,!1,null,"49ba16d4",null)),z=H.exports,F=a("fd22"),J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"CommentsContainer"},[a("h4",[t._v("Comments "),a("button",{staticClass:"btn btn-success btn-sm",on:{click:function(e){t.show=!0}}},[a("i",{staticClass:"fa fa-plus"})])]),t.commentPaginator?a("section",t._l(t.comments,(function(t){return a("CommentItem",{key:t.id,attrs:{comment:t}})})),1):t._e(),a("CModal",{attrs:{show:t.show,title:"Add Comment"},on:{"update:show":function(e){t.show=e}},scopedSlots:t._u([{key:"footer",fn:function(){return[a("button",{staticClass:"btn btn-secondary",on:{click:function(e){t.show=!1}}},[t._v("Close")]),a("button",{staticClass:"btn btn-success",on:{click:t.submit}},[t._v("Success")])]},proxy:!0}])},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"comment"}},[t._v("Comment")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"form-control",domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})])])],1)},L=[],U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Comment card"},[a("div",{staticClass:"card-body"},[a("div",[t._v(t._s(t.comment.content))])]),a("div",{staticClass:"card-footer text-right"},[a("small",[t._v(" "+t._s(t.comment.author.name)+" "),a("br"),t._v(" "+t._s(t._f("formatDate")(t.comment.created_at,"d/M/Y H:mm"))+" ")])])])},Y=[],G={name:"Comment",props:{comment:{type:Object,required:!0}},filters:{formatDate:m["c"]}},W=G,K=Object(C["a"])(W,U,Y,!1,null,"2e767984",null),Q=K.exports,V={name:"CommentsContainer",components:{CommentItem:Q},props:{url:{type:String,required:!0}},data:function(){return{show:!1,commentPaginator:null,comment:null}},computed:{comments:function(){return this.commentPaginator.data}},created:function(){this.fetchComments()},methods:{fetchComments:function(){var t=this;r["a"].get(this.url).then((function(e){var a=e.data;return t.commentPaginator=a})).catch((function(t){return console.log(t.message)}))},submit:function(){var t=this;r["a"].post(this.url,{content:this.comment}).then((function(){return t.fetchComments()})).then((function(){return t.show=!1})).then((function(){return t.comment=null})).catch((function(t){return console.log(t.message)}))}}},X=V,Z=(a("982f"),Object(C["a"])(X,J,L,!1,null,"2ab61b18",null)),tt=Z.exports,et={name:"ShowJob",components:{MatchingApplicant:z,RequirementInfo:F["a"],CommentsContainer:tt},filters:{join:m["e"]},data:function(){return{job:null}},computed:{updateRequirementUrl:function(){return s["a"].update_requirement(this.job.id)},jobCommentUrl:function(){return s["a"].comments(this.$route.params.id)}},created:function(){var t=this;r["a"].get(s["a"].show(this.$route.params.id)).then((function(e){var a=e.data;return t.job=a})).catch((function(t){return console.log(t)}))},methods:{updateRequirement:function(t){this.job.requirement=t}}},at=et,nt=Object(C["a"])(at,n,i,!1,null,"002fa4c4",null);e["default"]=nt.exports},5217:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ShowContracts"},[t.contracts.length>0?a("ul",{staticClass:"list-unstyled col-12"},t._l(t.contracts,(function(e){return a("li",{key:e.id},[a("h5",[t._v("Contract Number: "),a("router-link",{attrs:{to:{name:"Contract",params:{id:e.id}}}},[t._v(t._s(e.contract_number))])],1),a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[t._v(" Status: "+t._s(e.status)+" "),a("br"),t._v(" Client: "),a("router-link",{attrs:{to:{name:"Client",params:{id:e.client.id}}}},[t._v(t._s(e.client.full_name))])],1),a("div",{staticClass:"col-6"},[a("div",[t._v("Start Date: "+t._s(e.start_date))]),a("div",[t._v("Start Date: "+t._s(e.end_date))])])]),a("hr")])})),0):a("p",[t._v("No contract with this applicant")])])},i=[],s={name:"ShowContracts",props:{contracts:{type:Array,required:!0}}},r=s,o=a("2877"),l=Object(o["a"])(r,n,i,!1,null,"5f648d76",null);e["a"]=l.exports},"52df":function(t,e,a){},6344:function(t,e,a){"use strict";a("212b")},6994:function(t,e,a){"use strict";a("d0d4")},"841d":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ShowApplicantBasicInfo"},[a("TabContentHeader",{attrs:{title:"Basic Info",link:{label:"Edit",route:{name:t.RouteName.EditApplicantBasicInfo,params:{id:this.applicant.id}}}}}),a("table",{staticClass:"table"},[a("tbody",[a("tr",[a("td",[t._v("Date of Birth")]),a("td",[t._v(t._s(t._f("formatDate")(t.applicant.date_of_birth,"D/M/Y")))])]),a("tr",[a("td",[t._v("Marital Status")]),a("td",[t._v(t._s(t.applicant.marital_status))])]),a("tr",[a("td",[t._v("Education")]),a("td",[a("table",{staticClass:"w-100"},[a("tr",[a("td",[t._v("Highest Education")]),a("td",[t._v(t._s(t.applicant.education.school_name)+" "),a("small",[t._v("("+t._s(t.applicant.education.highest_education)+")")])])]),a("tr",[a("td",[t._v("Graduation Year")]),a("td",[t._v(t._s(t.applicant.education.graduation_year))])]),a("tr",[a("td",[t._v("Major")]),a("td",[t._v(t._s(t.applicant.education.major))])])])])])])])],1)},i=[],s=a("44f1"),r=a("140a"),o=a("a16f"),l={name:"ShowBasicInfo",computed:{RouteName:function(){return o["a"]}},components:{TabContentHeader:r["a"]},filters:{formatDate:s["c"]},props:{applicant:{type:Object,required:!0}}},c=l,u=a("2877"),d=Object(u["a"])(c,n,i,!1,null,null,null);e["a"]=d.exports},"982f":function(t,e,a){"use strict";a("e87d")},"9d1e":function(t,e,a){"use strict";a("db82")},cb04:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ShowExperience"},[a("TabContentHeader",{attrs:{title:"Applicant Experience"}},[a("router-link",{staticClass:"btn btn-sm btn-outline-dark",attrs:{to:{name:t.RouteName.AddApplicantExperience,params:{id:t.$route.params.id}}}},[a("i",{staticClass:"fa fa-plus"}),t._v(" Add ")])],1),t._l(t.experiences,(function(e){return a("section",{key:e.id},[a("div",{staticClass:"d-flex justify-content-between align-baseline"},[a("h5",[t._v(t._s(e.position)+" ("+t._s(t._f("formatDate")(e.from,"Y"))+" - "+t._s(t._f("formatDate")(e.to,"Y"))+")")]),a("router-link",{staticClass:"btn btn-sm btn-outline-dark",attrs:{to:{name:"Edit Applicant Experience",params:{id:e.id}}}},[a("i",{staticClass:"fa fa-edit"}),t._v(" Edit ")])],1),a("table",{staticClass:"table"},[a("tbody",[a("tr",[a("td",[t._v("Location")]),a("td",[t._v(t._s(e.location))])]),a("tr",[a("td",[t._v("House Size")]),a("td",[t._v(t._s(e.house_size))])]),a("tr",[a("td",[t._v("Number of adult")]),a("td",[t._v(t._s(e.number_of_adult))])]),a("tr",[a("td",[t._v("Age of adult")]),a("td",[t._v(t._s(e.age_of_adult))])]),a("tr",[a("td",[t._v("Number of children")]),a("td",[t._v(t._s(e.number_of_children))])]),a("tr",[a("td",[t._v("Age of children")]),a("td",[t._v(t._s(e.age_of_children))])]),a("tr",[a("td",[t._v("Number of elderly")]),a("td",[t._v(t._s(e.number_of_elderly))])]),a("tr",[a("td",[t._v("Age of elderly")]),a("td",[t._v(t._s(e.age_of_elderly))])]),a("tr",[a("td",[t._v("Duties")]),a("td",t._l(e.duties,(function(e){return a("span",{key:e.id,staticClass:"badge badge-primary p-2 m-1"},[t._v(" "+t._s(e.label))])})),0)]),a("tr",[a("td",[t._v("Note")]),a("td",[t._v(" "+t._s(e.description)+" ")])])])])])}))],2)},i=[],s=a("44f1"),r=a("140a"),o=a("a16f"),l={name:"ShowExperience",computed:{RouteName:function(){return o["a"]}},components:{TabContentHeader:r["a"]},props:{experiences:{type:Array,required:!0}},filters:{formatDate:s["c"]},methods:{getDuties:function(t){var e;return null===(e=t.duties)||void 0===e?void 0:e.map()}}},c=l,u=a("2877"),d=Object(u["a"])(c,n,i,!1,null,"6821edad",null);e["a"]=d.exports},cecc:function(t,e,a){"use strict";var n={list:"/api/agencycore/jobs",show:function(t){return"/api/agencycore/jobs/".concat(t)},duties:"/api/agencycore/duties/all",nationalities:"/api/agencycore/nationalities",potential_applicants:"/api/agencycore/applicants/available",all_assigned_applicants:function(t){return"/api/agencycore/jobs/".concat(t,"/applicants/all")},assign_applicant:function(t){return"/api/agencycore/jobs/".concat(t,"/applicants")},remove_applicant:function(t,e){return"/api/agencycore/jobs/".concat(t,"/applicants/").concat(e)},email_applicant:function(t){return"/api/agencycore/jobs/".concat(t,"/applicants/email")},update_requirement:function(t){return"/api/agencycore/jobs/".concat(t,"/update_requirement")},comments:function(t){return"/api/agencycore/jobs/".concat(t,"/comments")}};e["a"]=n},d0d4:function(t,e,a){},db82:function(t,e,a){},e87d:function(t,e,a){},fd22:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"RequirementInfo",class:{"is-dirty":t.isDirty}},[a("h4",[t._v("Job Requirements")]),a("div",{staticClass:"form-group"},[a("label",[t._v(" Expected Arrival Date")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.requirement.expected_arrival_date,expression:"requirement.expected_arrival_date"}],staticClass:"form-control",attrs:{type:"date",disabled:t.isDisabled("expected_arrival_date")},domProps:{value:t.requirement.expected_arrival_date},on:{input:function(e){e.target.composing||t.$set(t.requirement,"expected_arrival_date",e.target.value)}}})]),t.isShown("house_size")?a("div",{staticClass:"form-group"},[a("label",[t._v(" Residential Area")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.requirement.house_size,expression:"requirement.house_size"}],staticClass:"form-control",attrs:{type:"number",disabled:t.isDisabled("house_size")},domProps:{value:t.requirement.house_size},on:{input:function(e){e.target.composing||t.$set(t.requirement,"house_size",e.target.value)}}})]):t._e(),t.isShown("number_of_rooms")?a("div",{staticClass:"form-group"},[a("label",[t._v(" Number of rooms")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.requirement.number_of_rooms,expression:"requirement.number_of_rooms"}],staticClass:"form-control",attrs:{type:"number",disabled:t.isDisabled("number_of_rooms")},domProps:{value:t.requirement.number_of_rooms},on:{input:function(e){e.target.composing||t.$set(t.requirement,"number_of_rooms",e.target.value)}}})]):t._e(),t.isShown("number_of_adults")?a("div",{staticClass:"form-group"},[a("label",[t._v(" Number of adults")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-4 "},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.requirement.number_of_adults,expression:"requirement.number_of_adults"}],staticClass:"form-control",attrs:{type:"number",disabled:t.isDisabled("number_of_adults")},domProps:{value:t.requirement.number_of_adults},on:{input:function(e){e.target.composing||t.$set(t.requirement,"number_of_adults",e.target.value)}}})]),a("div",{staticClass:"col-8"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.requirement.age_of_adults,expression:"requirement.age_of_adults"}],staticClass:"form-control",attrs:{type:"text",disabled:t.isDisabled("number_of_adults")},domProps:{value:t.requirement.age_of_adults},on:{input:function(e){e.target.composing||t.$set(t.requirement,"age_of_adults",e.target.value)}}})])])]):t._e(),t.isShown("number_of_elders")?a("div",{staticClass:"form-group"},[a("label",[t._v(" Number of elders")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-4 "},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.requirement.number_of_elders,expression:"requirement.number_of_elders"}],staticClass:"form-control",attrs:{type:"number",disabled:t.isDisabled("number_of_elders")},domProps:{value:t.requirement.number_of_elders},on:{input:function(e){e.target.composing||t.$set(t.requirement,"number_of_elders",e.target.value)}}})]),a("div",{staticClass:"col-8"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.requirement.age_of_elders,expression:"requirement.age_of_elders"}],staticClass:"form-control",attrs:{type:"text",disabled:t.isDisabled("age_of_elders")},domProps:{value:t.requirement.age_of_elders},on:{input:function(e){e.target.composing||t.$set(t.requirement,"age_of_elders",e.target.value)}}})])])]):t._e(),t.isShown("number_of_kids")?a("div",{staticClass:"form-group"},[a("label",[t._v(" Number of children (0-5)")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-4 "},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.requirement.number_of_kids,expression:"requirement.number_of_kids"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Number of Children",disabled:t.isDisabled("number_of_kids")},domProps:{value:t.requirement.number_of_kids},on:{input:function(e){e.target.composing||t.$set(t.requirement,"number_of_kids",e.target.value)}}})]),a("div",{staticClass:"col-8"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.requirement.age_of_kids,expression:"requirement.age_of_kids"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Age of Children",disabled:t.isDisabled("age_of_kids")},domProps:{value:t.requirement.age_of_kids},on:{input:function(e){e.target.composing||t.$set(t.requirement,"age_of_kids",e.target.value)}}})])])]):t._e(),t.isShown("number_of_young_adults")?a("div",{staticClass:"form-group"},[a("label",[t._v(" Number of children (6-18)")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-4 "},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.requirement.number_of_young_adults,expression:"requirement.number_of_young_adults"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Number of Children",disabled:t.isDisabled("number_of_young_adults")},domProps:{value:t.requirement.number_of_young_adults},on:{input:function(e){e.target.composing||t.$set(t.requirement,"number_of_young_adults",e.target.value)}}})]),a("div",{staticClass:"col-8"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.requirement.age_of_young_adults,expression:"requirement.age_of_young_adults"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Age of Children",disabled:t.isDisabled("age_of_young_adults")},domProps:{value:t.requirement.age_of_young_adults},on:{input:function(e){e.target.composing||t.$set(t.requirement,"age_of_young_adults",e.target.value)}}})])])]):t._e(),t.isShown("number_of_expecting_babies")?a("div",{staticClass:"form-group"},[a("label",[t._v(" Number of expecting babies")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.requirement.number_of_expecting_babies,expression:"requirement.number_of_expecting_babies"}],staticClass:"form-control",attrs:{type:"number",disabled:t.isDisabled("number_of_expecting_babies")},domProps:{value:t.requirement.number_of_expecting_babies},on:{input:function(e){e.target.composing||t.$set(t.requirement,"number_of_expecting_babies",e.target.value)}}})]):t._e(),t.isShown("disabled_personnel")?a("div",{staticClass:"form-group"},[a("label",[t._v(" Number of constant care")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.requirement.disabled_personnel,expression:"requirement.disabled_personnel"}],staticClass:"form-control",attrs:{type:"number",disabled:t.isDisabled("disabled_personnel")},domProps:{value:t.requirement.disabled_personnel},on:{input:function(e){e.target.composing||t.$set(t.requirement,"disabled_personnel",e.target.value)}}})]):t._e(),t.isShown("accommodation_type")?a("div",{staticClass:"form-group"},[a("label",[t._v(" Accommodation ")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-4 "},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.requirement.accommodation_type,expression:"requirement.accommodation_type"}],staticClass:"form-control",attrs:{type:"number",disabled:t.isDisabled("accommodation_type")},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.requirement,"accommodation_type",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"alone"}},[t._v("Own Room")]),a("option",{attrs:{value:"shared"}},[t._v("Shared Room")])])]),a("div",{staticClass:"col-8"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.requirement.accommodation_value,expression:"requirement.accommodation_value"}],staticClass:"form-control",attrs:{type:"text",disabled:t.isDisabled("accommodation_value")},domProps:{value:t.requirement.accommodation_value},on:{input:function(e){e.target.composing||t.$set(t.requirement,"accommodation_value",e.target.value)}}})])])]):t._e(),t.isShown("special_duties")?a("div",{staticClass:"form-group"},[a("label",[t._v(" Special Duties")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.requirement.special_duties,expression:"requirement.special_duties"}],staticClass:"form-control",attrs:{type:"text",disabled:t.isDisabled("special_duties")},domProps:{value:t.requirement.special_duties},on:{input:function(e){e.target.composing||t.$set(t.requirement,"special_duties",e.target.value)}}})]):t._e(),t.isShown("note")?a("div",{staticClass:"form-group"},[a("label",[t._v(" Note")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.requirement.note,expression:"requirement.note"}],staticClass:"form-control",attrs:{disabled:t.isDisabled("note")},domProps:{value:t.requirement.note},on:{input:function(e){e.target.composing||t.$set(t.requirement,"note",e.target.value)}}})]):t._e(),a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:t.update}},[t._v("Update Requirements")])])},i=[],s=a("7ed9"),r=a("2ef0"),o=a.n(r),l={name:"RequirementInfo",props:{url:{type:String,required:!0},requirement:{type:Object,required:!0},hiddenInputs:{type:Array,default:function(){return[]}},disabledInputs:{type:Array,default:function(){return[]}}},data:function(){return{original:null}},created:function(){this.original=o.a.cloneDeep(this.requirement)},computed:{isDirty:function(){return!o.a.isEqual(this.original,this.requirement)}},methods:{isHidden:function(t){return this.hiddenInputs.indexOf(t)>-1},isShown:function(t){return!this.isHidden(t)},isDisabled:function(t){return this.disabledInputs.indexOf(t)>-1},update:function(){var t=this;s["a"].post(this.url,this.requirement).then((function(e){var a=e.data;return t.$emit("update-requirement",a)})).then((function(){return t.original=o.a.cloneDeep(t.requirement)})).then((function(){return t.$toasted.success("Requirement Updated")})).catch((function(e){return t.$toasted.error(e.response.message)}))}}},c=l,u=(a("6994"),a("2877")),d=Object(u["a"])(c,n,i,!1,null,"f81ac87c",null);e["a"]=d.exports}}]);